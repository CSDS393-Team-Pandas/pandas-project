{"version":3,"file":"ej2-office-chart.es2015.js","sources":["../src/es6/office-chart/chart.js","../src/es6/office-chart/index.js","../src/es6/index.js"],"sourcesContent":["/* tslint:disable:no-any */\nimport { Chart, AccumulationChart, AccumulationLegend, PieSeries, AccumulationTooltip, AccumulationDataLabel, DateTime, BarSeries, StackingBarSeries, LineSeries, StackingLineSeries, ColumnSeries, StackingColumnSeries, AreaSeries, StackingAreaSeries, Trendlines, ScatterSeries, BubbleSeries, RadarSeries, PolarSeries, ErrorBar, SplineSeries, DataLabel, Category, Legend, Tooltip, Export } from '@syncfusion/ej2-charts';\nChart.Inject(AreaSeries, StackingAreaSeries, BarSeries, PieSeries, StackingBarSeries, PolarSeries, ScatterSeries, BubbleSeries, RadarSeries, DateTime, ColumnSeries, StackingColumnSeries, LineSeries, StackingLineSeries, ErrorBar, Trendlines, SplineSeries, DataLabel, Category, Legend, Tooltip, Export);\nAccumulationChart.Inject(AccumulationLegend, PieSeries, AccumulationTooltip, AccumulationDataLabel);\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { createElement } from '@syncfusion/ej2-base';\n/**\n * Chart component is used to convert office charts to ej2-charts.\n */\nexport class ChartComponent {\n    /**\n     * @private\n     */\n    chartRender(chart) {\n        this.chartType = chart.chartType;\n        this.isPieType = (this.chartType === 'Pie' || this.chartType === 'Doughnut');\n        let chartData = this.chartData(chart, this.chartType);\n        let chartModel = {\n            enableAnimation: false,\n            width: chart.width * (96 / 72) + 'px',\n            height: chart.height * (96 / 72) + 'px'\n        };\n        if (this.isPieType) {\n            this.chart = new AccumulationChart(chartModel);\n        }\n        else {\n            this.chart = new Chart(chartModel);\n            this.chart.primaryXAxis = this.chartPrimaryXAxis(chart.chartPrimaryCategoryAxis, this.chartType);\n            this.chart.primaryYAxis = this.chartPrimaryYAxis(chart.chartPrimaryValueAxis);\n        }\n        this.chart.series = this.chartSeries(chart.chartSeries, chartData, this.chartType);\n        for (let i = 0; i < this.chart.series.length; i++) {\n            this.chart.series[i].animation.enable = false;\n        }\n        this.chart.title = chart.chartTitle;\n        this.chart.legendSettings = this.parseChartLegend(chart.chartLegend);\n    }\n    /**\n     * @private\n     */\n    convertChartToImage(chart, elementWidth, elementHeight) {\n        let promise;\n        return promise = new Promise((resolve, reject) => {\n            let width = 0;\n            let height = 0;\n            let dataInfo = this.getControlsValue([chart], elementWidth, elementHeight);\n            width = width ? width : dataInfo.width;\n            height = height ? height : dataInfo.height;\n            let element = createElement('canvas');\n            let displayPixelRatio = Math.max(1, window.devicePixelRatio || 1);\n            element.width = width * (displayPixelRatio);\n            element.height = height * (displayPixelRatio);\n            element.style.width = width + 'px';\n            element.style.height = height + 'px';\n            // tslint:disable-next-line:max-line-length\n            let url = window.URL.createObjectURL(new Blob([(new XMLSerializer()).serializeToString(dataInfo.svg)], { type: 'image/svg+xml' }));\n            let image = new Image();\n            let canvasContext = element.getContext('2d');\n            canvasContext.scale(displayPixelRatio, displayPixelRatio);\n            image.onload = (() => {\n                canvasContext.drawImage(image, 0, 0);\n                window.URL.revokeObjectURL(url);\n                let dataURL = element.toDataURL('image/png');\n                resolve(dataURL);\n            });\n            image.onerror = (() => {\n                reject('Invalid data');\n            });\n            image.src = url;\n        });\n    }\n    getControlsValue(controls, elementWidth, elementHeight) {\n        let width = 0;\n        let height = 0;\n        let content = '';\n        let svgRenderer = new SvgRenderer('').createSvg({\n            id: 'Image_Export',\n            width: 200, height: 200\n        });\n        controls.map((control) => {\n            if (control) {\n                let svgElement = control.svgObject.cloneNode(true);\n                let groupElement = control.renderer.createGroup({\n                    style: 'transform: translateY(' + height + 'px)'\n                });\n                groupElement.appendChild(svgElement);\n                width = Math.max(control.availableSize.width, elementWidth);\n                height += control.availableSize.height;\n                content += control.svgObject.outerHTML;\n                svgRenderer.appendChild(groupElement);\n            }\n        });\n        svgRenderer.setAttribute('width', width + '');\n        svgRenderer.setAttribute('height', height + '');\n        return {\n            'width': width,\n            'height': height,\n            'svg': svgRenderer\n        };\n    }\n    officeChartType(type) {\n        let chartType = '';\n        switch (type) {\n            case 'Area_Stacked':\n                chartType = 'StackingArea';\n                break;\n            case 'Area':\n                chartType = 'Area';\n                break;\n            case 'Area_Stacked_100':\n                chartType = 'StackingArea100';\n                break;\n            case 'Bar_Clustered':\n                chartType = 'Bar';\n                break;\n            case 'Bar_Stacked':\n                chartType = 'StackingBar';\n                break;\n            case 'Bar_Stacked_100':\n                chartType = 'StackingBar100';\n                break;\n            case 'Column_Clustered':\n                chartType = 'Column';\n                break;\n            case 'Column_Stacked':\n                chartType = 'StackingColumn';\n                break;\n            case 'Column_Stacked_100':\n                chartType = 'StackingColumn100';\n                break;\n            case 'Scatter_Markers':\n                chartType = 'Scatter';\n                break;\n            case 'Bubble':\n                chartType = 'Bubble';\n                break;\n            case 'Doughnut':\n            case 'Pie':\n                chartType = 'Pie';\n                break;\n            case 'Line_Stacked_100':\n            case 'Line_Markers_Stacked_100':\n                chartType = 'StackingLine100';\n                break;\n            case 'Line':\n            case 'Line_Markers':\n                chartType = 'Line';\n                break;\n            case 'Line_Stacked':\n            case 'Line_Markers_Stacked':\n                chartType = 'StackingLine';\n                break;\n        }\n        return chartType;\n    }\n    chartSeries(series, data, type) {\n        // json data\n        let chartSeries = [];\n        for (let i = 0; i < series.length; i++) {\n            let seriesData = series[i];\n            let seriesValue = this.writeChartSeries(seriesData, data, type, i);\n            chartSeries.push(seriesValue);\n        }\n        return chartSeries;\n    }\n    writeChartSeries(seriesData, data, type, count) {\n        let chartType = this.officeChartType(type);\n        // let isAreaType: boolean = (type === 'Area_Stacked_100' || type === 'Area' || type === 'Area_Stacked');\n        let series = {};\n        let fill;\n        series.type = chartType;\n        series.dataSource = data;\n        series.name = seriesData.seriesName;\n        series.xName = 'x';\n        series.yName = 'y' + count;\n        if (type === 'Bubble') {\n            series.size = 'size' + count;\n        }\n        let seriesFormat = seriesData.dataPoints[0];\n        if (this.isPieType) {\n            series.pointColorMapping = 'color';\n            if (type === 'Doughnut') {\n                series.innerRadius = '75%';\n                series.radius = '70%';\n            }\n        }\n        else {\n            fill = this.chartFormat(seriesFormat, chartType);\n            series.fill = fill;\n        }\n        if (type === 'Line_Markers' || type === 'Line_Markers_Stacked' || type === 'Line_Markers_Stacked_100') {\n            series.marker = { visible: true };\n        }\n        if (seriesData.hasOwnProperty('dataLabel')) {\n            if (this.isPieType) {\n                series.dataLabel = this.parseDataLabels(seriesData.dataLabel);\n            }\n            else {\n                let data = {};\n                data.dataLabel = this.parseDataLabels(seriesData.dataLabel);\n                series.marker = data;\n            }\n        }\n        if (seriesData.hasOwnProperty('errorBar')) {\n            let errorBarData = seriesData.errorBar;\n            series.errorBar = this.parseErrorBars(errorBarData);\n        }\n        if (seriesData.hasOwnProperty('trendLines')) {\n            let trendLines = seriesData.trendLines;\n            let trendLinesData = [];\n            for (let count = 0; count < trendLines.length; count++) {\n                let trendLine = trendLines[count];\n                let data = {};\n                data = this.parseTrendLines(trendLine, fill);\n                trendLinesData.push(data);\n                series.trendlines = trendLinesData;\n            }\n        }\n        return series;\n    }\n    parseDataLabels(label) {\n        let dataLabel = {};\n        dataLabel.visible = true;\n        if (this.isPieType) {\n            if (label.position === 'BestFit' || label.position === 'Inside') {\n                dataLabel.position = 'Inside';\n            }\n            else {\n                dataLabel.position = 'Outside';\n            }\n        }\n        else {\n            dataLabel.position = this.dataLabelPosition(label.position);\n        }\n        return dataLabel;\n    }\n    parseErrorBars(errorBarData) {\n        let errorBar = {};\n        errorBar.visible = true;\n        errorBar.type = errorBarData.type;\n        errorBar.direction = errorBarData.direction;\n        if (errorBarData.endStyle === 'Cap') {\n            errorBar.errorBarCap = { width: 1 };\n        }\n        else {\n            errorBar.errorBarCap = { width: 0 };\n        }\n        return errorBar;\n    }\n    parseTrendLines(trendLines, fill) {\n        let trendLine = {};\n        trendLine.type = trendLines.type;\n        trendLine.name = trendLines.name;\n        trendLine.forwardForecast = trendLines.forward;\n        trendLine.backwardForecast = trendLines.backward;\n        if (trendLines.intercept === 'NaN') {\n            trendLine.intercept = 0;\n        }\n        else {\n            trendLine.intercept = trendLines.intercept;\n        }\n        trendLine.fill = fill;\n        return trendLine;\n    }\n    dataLabelPosition(position) {\n        let labelPosition = 'Auto';\n        switch (position) {\n            case 'Outside':\n                labelPosition = 'Outer';\n                break;\n            case 'Center':\n                labelPosition = 'Middle';\n                break;\n            case 'Inside':\n                labelPosition = 'Top';\n                break;\n            case 'OutsideBase':\n                labelPosition = 'Bottom';\n                break;\n        }\n        return labelPosition;\n    }\n    chartFormat(dataPoints, type) {\n        let format = dataPoints;\n        if (type === 'Line' || type === 'StackingLine' || type === 'StackingLine100') {\n            return format.line.rgb;\n        }\n        else {\n            return format.fill.rgb;\n        }\n    }\n    chartPrimaryXAxis(data, type) {\n        // json data\n        let primaryXAxis = {};\n        if (data.chartTitle) {\n            primaryXAxis.title = data.chartTitle;\n        }\n        let categoryType = this.chartCategoryType(data.categoryType);\n        primaryXAxis.valueType = categoryType;\n        if (categoryType === 'DateTime') {\n            primaryXAxis.intervalType = 'Days';\n            primaryXAxis.labelFormat = 'M/d/yyyy';\n            primaryXAxis.edgeLabelPlacement = 'Shift';\n        }\n        if (type === 'Scatter_Markers' || type === 'Bubble') {\n            this.checkAndSetAxisValue(primaryXAxis, data);\n        }\n        if (data.hasMajorGridLines) {\n            primaryXAxis.majorGridLines = { width: 1 };\n        }\n        if (data.hasMinorGridLines) {\n            primaryXAxis.minorTicksPerInterval = 4;\n        }\n        return primaryXAxis;\n    }\n    chartCategoryType(categoryType) {\n        let type = '';\n        switch (categoryType) {\n            case 'Time':\n                type = 'DateTime';\n                break;\n            case 'Automatic':\n                type = 'Category';\n                break;\n        }\n        return type;\n    }\n    chartPrimaryYAxis(data) {\n        // json data\n        let primaryYAxis = {};\n        if (data.chartTitle) {\n            primaryYAxis.title = data.chartTitle;\n        }\n        this.checkAndSetAxisValue(primaryYAxis, data);\n        if (data.hasMajorGridLines) {\n            primaryYAxis.majorGridLines = { width: 1 };\n        }\n        if (data.hasMinorGridLines) {\n            primaryYAxis.minorTicksPerInterval = 4;\n        }\n        return primaryYAxis;\n    }\n    checkAndSetAxisValue(primaryYAxis, data) {\n        if (data.minimumValue !== 0) {\n            primaryYAxis.minimum = data.minimumValue;\n        }\n        if (data.maximumValue !== 0) {\n            primaryYAxis.maximum = data.maximumValue;\n        }\n        if (data.majorUnit !== 0) {\n            primaryYAxis.interval = data.majorUnit;\n        }\n    }\n    chartData(chart, type) {\n        // json data\n        let data = chart.chartCategory;\n        let chartData = [];\n        for (let i = 0; i < data.length; i++) {\n            let xData = data[i];\n            let plotValue = this.chartPlotData(xData, chart, type, i);\n            chartData.push(plotValue);\n        }\n        return chartData;\n    }\n    chartPlotData(data, chart, type, count) {\n        let plotValue = {};\n        let series = chart.chartSeries;\n        if (chart.chartPrimaryCategoryAxis.numberFormat === 'm/d/yyyy') {\n            let date = data.categoryXName;\n            let array = date.split('/');\n            let month = Number(array[0]);\n            let day = Number(array[1]);\n            let year = Number(array[2]);\n            plotValue.x = new Date(year, month - 1, day);\n        }\n        else {\n            plotValue.x = data.categoryXName;\n        }\n        for (let j = 0; j < series.length; j++) {\n            let yData = data.chartData[j];\n            plotValue['y' + j] = yData.yValue;\n            if (type === 'Bubble') {\n                plotValue['size' + j] = yData.size;\n            }\n            if (chart.chartType === 'Pie' || chart.chartType === 'Doughnut') {\n                let seriesData = series[j];\n                let seriesDataPoints = seriesData.dataPoints[count];\n                plotValue.color = this.chartFormat(seriesDataPoints, type);\n            }\n        }\n        return plotValue;\n    }\n    parseChartLegend(data) {\n        let legendSettings = {};\n        let position = data.position;\n        if (position === 'Corner') {\n            position = 'right';\n        }\n        if (position) {\n            legendSettings.visible = true;\n            legendSettings.position = position.charAt(0).toUpperCase() + position.slice(1);\n        }\n        else {\n            legendSettings.visible = false;\n        }\n        return legendSettings;\n    }\n    /**\n     * Destroys the internal objects which is maintained.\n     */\n    destroy() {\n        if (this.chart) {\n            this.chart.destroy();\n        }\n        this.chart = undefined;\n    }\n}\n","/**\n * export word-chart modules\n */\nexport * from './chart';\n","/**\n * export word-chart modules\n */\nexport * from './office-chart/index';\n"],"names":[],"mappings":"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"}